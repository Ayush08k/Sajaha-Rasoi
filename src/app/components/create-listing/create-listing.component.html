<div class="create-listing-container">
  <!-- Header -->
  <div class="header">
    <button class="back-button" (click)="onBack()">
      <img src="assets/Icon/back-arrow.png" alt="back-arrow">
    </button>
    <h1 class="page-title">Post Your Product</h1>

  </div>

  <!-- Form Content -->
  <div class="form-container">
    <form class="listing-form" (ngSubmit)="onPostItem()">
      
      <!-- Image Upload Section -->
      <div class="form-section">
        <label class="section-label">Product Photo</label>
        <div class="image-upload-container">
          @if (imagePreview(); as preview) {
            <div class="image-preview">
              <img [src]="preview" alt="Preview" class="preview-image" />
              <button type="button" class="remove-image-button" (click)="onRemoveImage()">
                <span class="material-symbols-outlined">
                  <img src="assets/Icon/close.png" alt="">
                </span>
              </button>
            </div>
          } @else {
            <label for="imageInput" class="image-upload-button">
              <span class="material-symbols-outlined">
                <img src="assets/Icon/camera-white.png" alt="camera-icon"  />
              </span>
              <span class="upload-text">Upload Photo</span>
              <span class="upload-subtext">Tap to add a photo of your item</span>
            </label>
            <input
              id="imageInput"
              type="file"
              accept="image/*"
              class="image-input"
              (change)="onImageSelect($event)"
            />
          }
        </div>
      </div>

      <!-- Item Name -->
      <div class="form-section">
        <label for="itemName" class="section-label">Item Name *</label>
        <input
          id="itemName"
          type="text"
          class="form-input"
          placeholder="e.g., Fresh Paneer, Onions, Rice"
          [value]="itemName()"
          (input)="onItemNameChange($event)"
          required
        />
      </div>

      <!-- Quantity -->
      <div class="form-section">
        <label for="quantity" class="section-label">Quantity *</label>
        <input
          id="quantity"
          type="text"
          class="form-input"
          placeholder="e.g., 2 kg, 5 pieces, 1 packet"
          [value]="quantity()"
          (input)="onQuantityChange($event)"
          required
        />
      </div>

      <!-- Price -->
      <div class="form-section">
        <label for="price" class="section-label">Price (₹) *</label>
        <div class="price-input-wrapper">
          <span class="currency-symbol">��</span>
          <input
            id="price"
            type="text"
            class="price-input"
            placeholder="Enter amount"
            [value]="price()"
            (input)="onPriceChange($event)"
            required
          />
        </div>
      </div>

      <!-- Description -->
      <div class="form-section">
        <label for="description" class="section-label">Description *</label>
        <textarea
          id="description"
          class="form-textarea"
          placeholder="Describe the quality, freshness, and any other details about your item..."
          rows="4"
          [value]="description()"
          (input)="onDescriptionChange($event)"
          required
        ></textarea>
      </div>

      <!-- Tips Section -->
      <div class="tips-section">
        <div class="tips-header">
          <div class="tips-icon">
            <span class="material-symbols-outlined">lightbulb</span>
          </div>
          <h3 class="tips-title">Tips for better listings</h3>
        </div>
        <div class="tips-content">
          <div class="tip-item">
            <div class="tip-icon">
              <span class="material-symbols-outlined">photo_camera</span>
            </div>
            <div class="tip-text">
              <strong>Add clear photos</strong>
              <span>Well-lit, high-quality images attract more buyers</span>
            </div>
          </div>
          <div class="tip-item">
            <div class="tip-icon">
              <span class="material-symbols-outlined">eco</span>
            </div>
            <div class="tip-text">
              <strong>Highlight freshness</strong>
              <span>Mention quality, expiry dates, and storage conditions</span>
            </div>
          </div>
          <div class="tip-item">
            <div class="tip-icon">
              <span class="material-symbols-outlined">payments</span>
            </div>
            <div class="tip-text">
              <strong>Price competitively</strong>
              <span>Research local market rates for fair pricing</span>
            </div>
          </div>
          <div class="tip-item">
            <div class="tip-icon">
              <span class="material-symbols-outlined">verified</span>
            </div>
            <div class="tip-text">
              <strong>Be transparent</strong>
              <span>Honest descriptions build trust with buyers</span>
            </div>
          </div>
          <div class="tip-item">
            <div class="tip-icon">
              <span class="material-symbols-outlined">schedule</span>
            </div>
            <div class="tip-text">
              <strong>Post at the right time</strong>
              <span>Early morning or evening for fresh produce</span>
            </div>
          </div>
        </div>
        <div class="tips-footer">
          <span class="material-symbols-outlined">trending_up</span>
          <span>Following these tips can increase your sales by up to 40%</span>
        </div>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="submit-button"
        [class.disabled]="!isFormValid()"
        [disabled]="!isFormValid()"
      >
        <span class="material-symbols-outlined"> Post Item</span>
      </button>
    </form>
  </div>

  <!-- Footer -->
  <div class="form-footer">
    <p class="footer-text required">* Required fields</p>
    <p class="footer-text">Your listing will be visible to vendors in your area</p>
  </div>
</div>
